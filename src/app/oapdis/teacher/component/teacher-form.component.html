<div class="grid p-fluid">
    <p-toast></p-toast>
    <div class="col-12 md:col-12">
        <div class="card">
            <div class="card-header">
                <h2>
                    Akademisyen Form
                </h2>
            </div>
            <form #teacherForm="ngForm">
                <div class="card-body">
                    <div class="row mb-2">
                        <label for="">Adı</label>
                        <input type="text" pInputText name="txtName" [(ngModel)]="data.firstName" #txtName="ngModel"
                            aria-describedby="txtName-help" required>
                        <small *ngIf="txtName.invalid && (txtName.dirty || txtName.touched)" id="txtName-help"
                            class="p-error">Kullanıcı İsmi Boş Geçilemez.</small>
                    </div>
                    <div class="row mb-2">
                        <label for="">Soyad</label>
                        <input type="text" pInputText name="txtLastName" [(ngModel)]="data.lastName"
                            #txtLastName="ngModel" required aria-describedby="txtLastName-help">
                        <small *ngIf="txtLastName.invalid && (txtLastName.dirty || txtLastName.touched)"
                            id="txtLastName-help" class="p-error">Kullanıcı Soyismi Boş Geçilemez.</small>
                    </div>
                    <div class="row mb-2">
                        <label for="">Mail Adresi</label>
                        <input type="email" pInputText name="txtMailAddress" [(ngModel)]="data.email"
                            #txtMailAddress="ngModel" required aria-describedby="txtMailAddress-help" [email]="true">
                        <small *ngIf="txtMailAddress.invalid && (txtMailAddress.dirty || txtMailAddress.touched)"
                            id="txtMailAddress-help" class="p-error">E-posta Adresi Boş Geçilemez.</small>
                    </div>
                    <div class="row mb-2">
                        <label for="">Telefon Numarası</label>
                        <input type="text" pInputText name="txtPhoneNumber" [(ngModel)]="data.phoneNumber"
                            #txtPhoneNumber="ngModel" required aria-describedby="txtPhoneNumber-help">
                        <small *ngIf="txtPhoneNumber.invalid && (txtPhoneNumber.dirty || txtPhoneNumber.touched)"
                            id="txtPhoneNumber-help" class="p-error">Telefon Numarası Boş Geçilemez.</small>
                    </div>
                    <div class="row mb-2">
                        <label for="">Görev</label>
                        <input type="text" pInputText name="txtTask" [(ngModel)]="data.task" #txtTask="ngModel" required
                            aria-describedby="txtTask-help">
                        <small *ngIf="txtTask.invalid && (txtTask.dirty || txtTask.touched)" id="txtTask-help"
                            class="p-error">Görev Boş Geçilemez.</small>
                    </div>
                    <div class="row mb-2">
                        <label for="">Ünvan</label>
                        <input type="text" pInputText name="txtTitle" [(ngModel)]="data.title" #txtTitle="ngModel"
                            required aria-describedby="txtTitle-help">
                        <small *ngIf="txtTitle.invalid && (txtTitle.dirty || txtTitle.touched)" id="txtTitle-help"
                            class="p-error">Görev Boş Geçilemez.</small>
                    </div>
                    <div class="row mb-2">
                        <label for="">Profil Fotoğrafı</label>
                        <p-fileUpload name="demo[]" url="https://www.primefaces.org/cdn/api/upload.php"
                            (onSelect)="onUpload($event)" [multiple]="false" accept="image/*" [maxFileSize]="10000000"
                            [showUploadButton]="false" [chooseLabel]="'Resim Seç'" [cancelLabel]="'İptal'"
                            (onClear)="onClear()" (onRemove)="onClear()">
                            aria-describedby="txtFile-help">
                        </p-fileUpload>
                        <small *ngIf="image == undefined && this.id == undefined" id="txtFile-help"
                            class="p-error">Makale Dosyası Boş
                            Geçilemez.</small>
                    </div>
                    <div class="row mb-2">
                        <label for="">Departman</label>
                        <p-dropdown [options]="departments" name="txtFaculty" #txtFaculty="ngModel"
                            [(ngModel)]="selectedDepartment" optionLabel="name" [filter]="true" filterBy="name"
                            [showClear]="true" required>
                            <ng-template let-department pTemplate="item">
                                <div class="flex align-items-center gap-2">
                                    <div>{{ department.name }}</div>
                                </div>
                            </ng-template>
                        </p-dropdown>
                    </div>
                </div>
                <div class="card-footer">
                    <div class="my-2" style="display: flex;justify-content: end;">
                        <p-button *ngIf="this.id != undefined" [loading]="loading" label="Kaydet" icon="pi pi-save"
                            styleClass="p-button-success" [disabled]="!teacherForm.form.valid"
                            (click)="save()"></p-button>
                        <p-button *ngIf="this.id == undefined" [loading]="loading" label="Kaydet" icon="pi pi-save"
                            styleClass="p-button-success" [disabled]="!teacherForm.form.valid || image == undefined"
                            (click)="save()"></p-button>
                    </div>
                </div>
            </form>

        </div>
    </div>
</div>